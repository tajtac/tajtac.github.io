var boolrewind=!1,intervalRewind=!1,fastmode=!1,automode=!1;Reveal.addKeyBinding({keyCode:67,key:"C",description:"Fast mode"},()=>{fastmode=!fastmode,console.log("c, fastmode=",fastmode)}),Reveal.addKeyBinding({keyCode:65,key:"A",description:"Autoplay"},()=>{automode=!automode,console.log("a, automode=",fastmode),Reveal.next()}),Reveal.addEventListener("fragmentshown",function(e){if("video"==e.fragment.getAttribute("type")){console.log("shown"),boolrewind=!1;var t=e.fragment.getAttribute("time_start"),o=e.fragment.getAttribute("time_end");cslide=Reveal.getCurrentSlide(),vidobj=cslide.slideBackgroundElement.getElementsByTagName("video")[0],vidobj.ontimeupdate=function(){},vidobj.playbackRate=1,vidobj.currentTime=t,vidobj.play(),vidobj.ontimeupdate=function(){(fastmode||vidobj.currentTime-o>0)&&(console.log(vidobj.currentTime-o),vidobj.pause(),vidobj.currentTime=o,vidobj.ontimeupdate=function(){},automode&&Reveal.next())},console.log(t+"->"+o)}}),Reveal.addEventListener("fragmenthidden",function(e){if("video"==e.fragment.getAttribute("type")){console.log("hidden");var t=e.fragment.getAttribute("time_start"),o=e.fragment.getAttribute("time_end");cslide=Reveal.getCurrentSlide(),vidobj=cslide.slideBackgroundElement.getElementsByTagName("video")[0],vidobj.ontimeupdate=function(){},console.log(t+"<-"+o),vidobj.pause(),vidobj.currentTime=t}}),Reveal.addEventListener("slidechanged",function(e){"videoslide"==e.currentSlide.getAttribute("type")&&(console.log("videoslide"),vidobj=e.currentSlide.slideBackgroundContentElement.getElementsByTagName("video")[0],console.log(e),automode&&Reveal.next())});